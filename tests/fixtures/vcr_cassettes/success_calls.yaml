interactions:
- request:
    body: !!python/unicode 'nationality=Moroccan&first_name=test&last_name=test&email=test%40test.com&currency=MAD'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Length: ['86']
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [9cccf38c-45e2-4be1-8fb0-0e84e9d41214]
      User-Agent: [python-requests/2.20.1]
    method: POST
    uri: https://api.tap.company/v2/customers
  response:
    body: {string: !!python/unicode '{"id":"cus_Rj92201858r4N52153711","object":"customer","live_mode":false,"created":"1542776907774","currency":"MAD","nationality":"Moroccan","first_name":"test","last_name":"test","email":"test@test.com"}'}
    headers:
      connection: [keep-alive]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:08:29 GMT']
      etag: [W/"cb-GJiA/P24MSPh+hbHYphyMnD30Rw"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [b924f083-e7ad-46f2-92d2-f09ae8ca3adb]
      User-Agent: [python-requests/2.20.1]
    method: GET
    uri: https://api.tap.company/v2/customers/cus_Rj92201858r4N52153711
  response:
    body: {string: !!python/unicode '{"id":"cus_Rj92201858r4N52153711","object":"customer","live_mode":false,"created":"1542776907774","currency":"MAD","nationality":"Moroccan","first_name":"test","last_name":"test","email":"test@test.com"}'}
    headers:
      connection: [keep-alive]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:16:17 GMT']
      etag: [W/"cb-GJiA/P24MSPh+hbHYphyMnD30Rw"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode 'nationality=Moroccan&first_name=new+value&last_name=new+value&email=test%40test.com&currency=MAD'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Length: ['96']
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [6bf2b588-5382-43d6-83e4-dcd54b726532]
      User-Agent: [python-requests/2.20.1]
    method: PUT
    uri: https://api.tap.company/v2/customers/cus_Rj92201858r4N52153711
  response:
    body: {string: !!python/unicode '{"id":"cus_Rj92201858r4N52153711","object":"customer","live_mode":false,"created":"1542776907774","currency":"MAD","nationality":"Moroccan","first_name":"new
        value","last_name":"new value","email":"test@test.com"}'}
    headers:
      connection: [keep-alive]
      content-length: ['213']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:27:00 GMT']
      etag: [W/"d5-bgCqAQekRmZDOFsEUg/rOryAvXU"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [0d81e83f-46b5-4a8a-8258-42f1580c6f20]
      User-Agent: [python-requests/2.20.1]
    method: DELETE
    uri: https://api.tap.company/v2/customers/cus_Rj92201858r4N52153711?id=cus_Rj92201858r4N52153711
  response:
    body: {string: !!python/unicode '{"id":"cus_Rj92201858r4N52153711","deleted":true}'}
    headers:
      connection: [keep-alive]
      content-length: ['49']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:33:23 GMT']
      etag: [W/"31-WCED3jb/M76neDtSqPNY62AOsWo"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [985e1408-851a-41da-be24-aad252956b07]
      User-Agent: [python-requests/2.20.1]
    method: POST
    uri: https://api.tap.company/v2/customers/list
  response:
    body: {string: !!python/unicode '{"object":"list","live_mode":false,"api_version":"V2","count":25,"has_more":true,"customers":[{"id":"cus_Bc9p2018536Hj4w2164711","object":"customer","live_mode":false,"created":"1542778593880","first_name":"Jad","last_name":"Windows","email":"jad+windows@rain.bh","phone":{"country_code":"1","number":"9376542800"}},{"id":"cus_Rq4o2018534Bb9r2140511","object":"customer","live_mode":false,"created":"1542778464598","first_name":"Jad","last_name":"Windows","email":"jad+windows@rain.bh","phone":{"country_code":"1","number":"9376542800"}},{"id":"cus_Lc4q2018525k9T5212111","object":"customer","live_mode":false,"created":"1542777933327","first_name":"Jad","last_name":"Windows","email":"jad+windows@rain.bh","phone":{"country_code":"1","number":"9376542800"}},{"id":"cus_Jt9j2018518Bx2t2167211","object":"customer","live_mode":false,"created":"1542777524865","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_Ma592018517Mq49211111","object":"customer","live_mode":false,"created":"1542777466285","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_e9T42018517Oy9m2164211","object":"customer","live_mode":false,"created":"1542777456914","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_Re5l2018517h5Q22130011","object":"customer","live_mode":false,"created":"1542777439491","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_x9OT2018517Hc592117911","object":"customer","live_mode":false,"created":"1542777424377","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_Qa452018514Xt4b2154311","object":"customer","live_mode":false,"created":"1542777251738","first_name":"first","last_name":"last","email":"test@test.com","phone":{"country_code":"0","number":""}},{"id":"cus_y9P52018513Hp9m2195411","object":"customer","live_mode":false,"created":"1542777236143","first_name":"first","last_name":"last","email":"test@test.com","phone":{"country_code":"0","number":""}},{"id":"cus_x4HR2018513Oj9o2173911","object":"customer","live_mode":false,"created":"1542777220940","first_name":"first","last_name":"last","email":"test@test.com","phone":{"country_code":"0","number":""}},{"id":"cus_Yy5g201843Zb9c2111511","object":"customer","live_mode":false,"created":"1542772994350","currency":"MAD","nationality":"Moroccan","first_name":"test","last_name":"test","email":"test@test.com"},{"id":"cus_x4HX201842m2BH2198311","object":"customer","live_mode":false,"created":"1542772964269","currency":"USD","nationality":"Amirican","first_name":"test","last_name":"test","email":"test@test.com"},{"id":"cus_Bo4t2018340Ka952147111","object":"customer","live_mode":false,"created":"1542771617698","first_name":"test","last_name":"test","email":"test@test.com","phone":{"country_code":"965","number":"000000000"}},{"id":"cus_e9TO2018340i9R42140011","object":"customer","live_mode":false,"created":"1542771602599","first_name":"test","last_name":"test","email":"test@test.com","phone":{"country_code":"965","number":"000000000"}},{"id":"cus_o2KP2018339Dn9u2137411","object":"customer","live_mode":false,"created":"1542771590582","first_name":"test","last_name":"test","email":"test@test.com","phone":{"country_code":"965","number":"000000000"}},{"id":"cus_Jb292018339w9ON2158811","object":"customer","live_mode":false,"created":"1542771581822","first_name":"test","last_name":"test","email":"test@test.com","phone":{"country_code":"965","number":"000000000"}},{"id":"cus_e4Q22018338Os4n2153011","object":"customer","live_mode":false,"created":"1542771519726","first_name":"first","last_name":"last","email":"test@test.com","phone":{"country_code":"0","number":""}},{"id":"cus_w9BJ2018332Tu442132011","object":"customer","live_mode":false,"created":"1542771145560","currency":"USD","nationality":"Amirican","first_name":"test","last_name":"test","email":"test@test.com"},{"id":"cus_Rc952018332w9YK217611","object":"customer","live_mode":false,"created":"1542771125306","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_o2OP2018331o9K52160711","object":"customer","live_mode":false,"created":"1542771074933","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_r2DP2018330Om942170411","object":"customer","live_mode":false,"created":"1542771047961","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_q2K52018330c4XM2174411","object":"customer","live_mode":false,"created":"1542771033071","first_name":"Foo","last_name":"Bar","email":"foo@bar.com","phone":{"country_code":"1","number":"541-754-3010"}},{"id":"cus_c9Q52018317Km922180011","object":"customer","live_mode":false,"created":"1542770264209","currency":"MAD","nationality":"Moroccan","first_name":"test","last_name":"test","email":"test@test.com"},{"id":"cus_m5ZQ2018055Ly9j2129611","object":"customer","live_mode":false,"created":"1542761719504","first_name":"Travis","last_name":"Morgan","email":"travis@rain.bh","phone":{"country_code":"1","number":"7024613097"}}]}'}
    headers:
      connection: [keep-alive]
      content-length: ['5383']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:36:58 GMT']
      etag: [W/"1507-c0IKGUZ7tjIgCaBl8tdc+RGRxaM"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode 'card[number]=5123450000000008&card[exp_year]=21&card[cvc]=124&card[exp_month]=12'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Length: ['80']
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [0caa5ce2-89ce-4a22-b577-67259a2ecffe]
      User-Agent: [python-requests/2.20.1]
    method: POST
    uri: https://api.tap.company/v2/tokens
  response:
    body: {string: !!python/unicode '{"id":"tok_j4qu6QWKO8UVmNaosIZ1fJvy","object":"token","card":{"id":"card_wnR2qYTQJ7fMCujxVZU6aO3m","object":"card","address":{},"customer":null,"funding":"CREDIT","fingerprint":"0F9/2hS66rMpSpJxVaehzbRqq","brand":"MASTERCARD","exp_month":12,"exp_year":2021,"last_four":"0008","first_six":"512345","name":null},"client_ip":null,"created":1542768511,"live_mode":false,"type":"CARD","used":false}'}
    headers:
      connection: [keep-alive]
      content-length: ['393']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:48:31 GMT']
      etag: [W/"189-ftlwyYblWYv7udEWa8AtQsOEsjI"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer sk_test_XKokBfNWv6FIYuTMg5sLPjhJ]
      Connection: [keep-alive]
      Content-Type: [application/x-www-form-urlencoded]
      Idempotency-Key: [ee44905a-429d-4ff0-9f17-480d95181c91]
      User-Agent: [python-requests/2.20.1]
    method: GET
    uri: https://api.tap.company/v2/tokens/tok_j4qu6QWKO8UVmNaosIZ1fJvy
  response:
    body: {string: !!python/unicode '{"id":"tok_j4qu6QWKO8UVmNaosIZ1fJvy","object":"token","card":{"id":"card_wnR2qYTQJ7fMCujxVZU6aO3m","object":"card","address":{},"customer":null,"funding":"CREDIT","fingerprint":"0F9/2hS66rMpSpJxVaehzbRqq","brand":"MASTERCARD","exp_month":12,"exp_year":2021,"last_four":"0008","first_six":"512345","name":null},"client_ip":null,"created":1542768511,"live_mode":false,"type":"CARD","used":false}'}
    headers:
      connection: [keep-alive]
      content-length: ['393']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 21 Nov 2018 02:57:40 GMT']
      etag: [W/"189-ftlwyYblWYv7udEWa8AtQsOEsjI"]
      x-powered-by: [Express]
    status: {code: 200, message: OK}
version: 1
